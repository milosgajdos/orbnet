{
    "swagger": "2.0",
    "info": {
        "description": "This is an API for managing Graphs.",
        "title": "Graphs API",
        "termsOfService": "http://swagger.io/terms/",
        "contact": {
            "name": "API Support",
            "email": "foo@bar.com"
        },
        "version": "1.0"
    },
    "basePath": "/api",
    "paths": {
        "/v1/graphs": {
            "get": {
                "description": "Get all available graphs.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "graphs"
                ],
                "summary": "Get all graphs",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "Result offset",
                        "name": "offset",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Result limit",
                        "name": "limit",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/http.GraphsResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    }
                }
            },
            "post": {
                "description": "Create new graph.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "graphs"
                ],
                "summary": "Create new graph.",
                "parameters": [
                    {
                        "description": "Create a graph",
                        "name": "graph",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/api.Graph"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/api.Graph"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/v1/graphs/{guid}/edges": {
            "get": {
                "description": "Get all edges matching a query.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "edges"
                ],
                "summary": "Get graph edges matching a filter.",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "Result offset",
                        "name": "offset",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Result limit",
                        "name": "limit",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Node label",
                        "name": "label",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Graph UID",
                        "name": "guid",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/http.EdgesResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    }
                }
            },
            "post": {
                "description": "Create a new graph edge and return it.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "edges"
                ],
                "summary": "Create new graph edge.",
                "parameters": [
                    {
                        "description": "Create a edge",
                        "name": "graph",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/api.Edge"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/api.Edge"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    }
                }
            },
            "delete": {
                "description": "Delete graph edge between nodes with given IDs.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "edges"
                ],
                "summary": "Delete graph edge between two nodes.",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Graph UID",
                        "name": "uid",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "description": "Source node ID",
                        "name": "source",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Target node ID",
                        "name": "target",
                        "in": "query"
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Edge was deleted successfully",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    }
                }
            },
            "patch": {
                "description": "Update existing graph edge between the nodes with the given IDs.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "edges"
                ],
                "summary": "Update graph edge between two existing nodes.",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Graph UID",
                        "name": "uid",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Update an edge",
                        "name": "graph",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/api.EdgeUpdate"
                        }
                    },
                    {
                        "type": "integer",
                        "description": "Source node ID",
                        "name": "source",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Target node ID",
                        "name": "target",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/api.Edge"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/v1/graphs/{guid}/edges/{uid}": {
            "get": {
                "description": "Get graph a single graph edge with the given UID.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "edges"
                ],
                "summary": "Get graph edge by UID.",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Graph UID",
                        "name": "guid",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Edge UID",
                        "name": "uid",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/api.Edge"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    }
                }
            },
            "delete": {
                "description": "Delete graph edge with the given UID.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "edges"
                ],
                "summary": "Delete graph edge by UID.",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Graph UID",
                        "name": "guid",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Edge UID",
                        "name": "uid",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Edge was deleted successfully",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/v1/graphs/{guid}/nodes": {
            "get": {
                "description": "Get all nodes matching a query.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "nodes"
                ],
                "summary": "Graph nodes matching a filter.",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "Result offset",
                        "name": "offset",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Result limit",
                        "name": "limit",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Node label",
                        "name": "label",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Graph UID",
                        "name": "guid",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/http.NodesResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    }
                }
            },
            "post": {
                "description": "Create a new graph node and returns it.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "nodes"
                ],
                "summary": "Create new graph node.",
                "parameters": [
                    {
                        "description": "Create a node",
                        "name": "graph",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/api.Node"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/api.Node"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/v1/graphs/{guid}/nodes/uid/{uid}": {
            "get": {
                "description": "Get graph returns a single graph node with the given UID.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "nodes"
                ],
                "summary": "Get graph node by UID.",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Graph UID",
                        "name": "guid",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Node UID",
                        "name": "uid",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/api.Node"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    }
                }
            },
            "delete": {
                "description": "Delete graph node with the given UID.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "nodes"
                ],
                "summary": "Delete graph node by UID.",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Graph UID",
                        "name": "uid",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Node ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Node was deleted successfully",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/v1/graphs/{guid}/nodes/{id}": {
            "get": {
                "description": "Get a single graph node with the given ID.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "nodes"
                ],
                "summary": "Get graph node by ID.",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Graph UID",
                        "name": "guid",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Node ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/api.Node"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    }
                }
            },
            "delete": {
                "description": "Delete graph node with the given ID.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "nodes"
                ],
                "summary": "Delete graph node by ID.",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Graph UID",
                        "name": "uid",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Node ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Node was deleted successfully",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    }
                }
            },
            "patch": {
                "description": "Update existing graph node.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "nodes"
                ],
                "summary": "Update graph node.",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Graph UID",
                        "name": "uid",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Node ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Update a node",
                        "name": "graph",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/api.NodeUpdate"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/api.Node"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/v1/graphs/{uid}": {
            "get": {
                "description": "Get graph returns graph with the given UID.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "graphs"
                ],
                "summary": "Get graph by UID.",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Graph UID",
                        "name": "uid",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/api.Graph"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    }
                }
            },
            "delete": {
                "description": "Delete graph with the given UID.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "graphs"
                ],
                "summary": "Delete graph by UID.",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Graph UID",
                        "name": "uid",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Graph was deleted successfully",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    }
                }
            },
            "patch": {
                "description": "Update existing graph.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "graphs"
                ],
                "summary": "Update graph",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Graph UID",
                        "name": "uid",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Update a graph",
                        "name": "graph",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/api.GraphUpdate"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/api.Graph"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "api.Edge": {
            "type": "object",
            "properties": {
                "attributes": {
                    "description": "Attrs are edge attributes",
                    "type": "object",
                    "additionalProperties": true
                },
                "label": {
                    "description": "Label is edge label",
                    "type": "string"
                },
                "source": {
                    "description": "Source is an ID of the edge source node.",
                    "type": "integer"
                },
                "target": {
                    "description": "Target is an ID of the edge target node.",
                    "type": "integer"
                },
                "uid": {
                    "description": "UID is edge UUID.",
                    "type": "string"
                },
                "weight": {
                    "description": "Weight is the edge weight.",
                    "type": "number"
                }
            }
        },
        "api.EdgeUpdate": {
            "type": "object",
            "properties": {
                "attributes": {
                    "type": "object",
                    "additionalProperties": true
                },
                "label": {
                    "type": "string"
                },
                "weight": {
                    "type": "number"
                }
            }
        },
        "api.Graph": {
            "type": "object",
            "properties": {
                "attributes": {
                    "description": "Attrs are graph attributes.",
                    "type": "object",
                    "additionalProperties": true
                },
                "edges": {
                    "description": "Edge is the edge count.",
                    "type": "integer"
                },
                "label": {
                    "description": "Label is graph label.",
                    "type": "string"
                },
                "nodes": {
                    "description": "Nodes is the node count.",
                    "type": "integer"
                },
                "type": {
                    "description": "Type is a type of graph.",
                    "type": "string"
                },
                "uid": {
                    "description": "UID is graph UUID.",
                    "type": "string"
                }
            }
        },
        "api.GraphUpdate": {
            "type": "object",
            "properties": {
                "attributes": {
                    "type": "object",
                    "additionalProperties": true
                },
                "label": {
                    "type": "string"
                }
            }
        },
        "api.Node": {
            "type": "object",
            "properties": {
                "attributes": {
                    "description": "Attrs are node attributes",
                    "type": "object",
                    "additionalProperties": true
                },
                "deg_in": {
                    "description": "DegIn is the count of incoming edges.",
                    "type": "integer"
                },
                "deg_out": {
                    "description": "DegOut is the count of outgoing edges.",
                    "type": "integer"
                },
                "id": {
                    "description": "ID is node ID.",
                    "type": "integer"
                },
                "label": {
                    "description": "Label is node label",
                    "type": "string"
                },
                "uid": {
                    "description": "UID is node UUID.",
                    "type": "string"
                }
            }
        },
        "api.NodeUpdate": {
            "type": "object",
            "properties": {
                "attributes": {
                    "type": "object",
                    "additionalProperties": true
                },
                "label": {
                    "type": "string"
                }
            }
        },
        "http.EdgesResponse": {
            "type": "object",
            "properties": {
                "edges": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/api.Edge"
                    }
                },
                "n": {
                    "type": "integer"
                }
            }
        },
        "http.ErrorResponse": {
            "type": "object",
            "properties": {
                "error": {
                    "type": "string"
                }
            }
        },
        "http.GraphsResponse": {
            "type": "object",
            "properties": {
                "graphs": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/api.Graph"
                    }
                },
                "n": {
                    "type": "integer"
                }
            }
        },
        "http.NodesResponse": {
            "type": "object",
            "properties": {
                "n": {
                    "type": "integer"
                },
                "nodes": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/api.Node"
                    }
                }
            }
        }
    }
}